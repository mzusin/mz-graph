/*
https://github.com/mzusin/mz-graph
MIT License      
Copyright (c) 2023-present, Miriam Zusin       
*/
var M=Object.create;var _=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),q=(t,e)=>{for(var l in e)_(t,l,{get:e[l],enumerable:!0})},k=(t,e,l,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let b of E(e))!V.call(t,b)&&b!==l&&_(t,b,{get:()=>e[b],enumerable:!(i=C(e,b))||i.enumerable});return t};var R=(t,e,l)=>(l=t!=null?M(O(t)):{},k(e||!t||!t.__esModule?_(l,"default",{value:t,enumerable:!0}):l,t)),G=t=>k(_({},"__esModule",{value:!0}),t);var j=D((W,S)=>{S.exports=y;function y(t){this._comparator=t||y.DEFAULT_COMPARATOR,this._elements=[]}y.DEFAULT_COMPARATOR=function(t,e){return typeof t=="number"&&typeof e=="number"?t-e:(t=t.toString(),e=e.toString(),t==e?0:t>e?1:-1)};y.prototype.isEmpty=function(){return this.size()===0};y.prototype.peek=function(){if(this.isEmpty())throw new Error("PriorityQueue is empty");return this._elements[0]};y.prototype.deq=function(){var t=this.peek(),e=this._elements.pop(),l=this.size();if(l===0)return t;this._elements[0]=e;for(var i=0;i<l;){var b=i,v=2*i+1,w=2*i+2;if(v<l&&this._compare(v,b)>=0&&(b=v),w<l&&this._compare(w,b)>=0&&(b=w),b===i)break;this._swap(b,i),i=b}return t};y.prototype.enq=function(t){for(var e=this._elements.push(t),l=e-1;l>0;){var i=Math.floor((l-1)/2);if(this._compare(l,i)<=0)break;this._swap(i,l),l=i}return e};y.prototype.size=function(){return this._elements.length};y.prototype.forEach=function(t){return this._elements.forEach(t)};y.prototype._compare=function(t,e){return this._comparator(this._elements[t],this._elements[e])};y.prototype._swap=function(t,e){var l=this._elements[t];this._elements[t]=this._elements[e],this._elements[e]=l}});var Q={};q(Q,{graph:()=>P,matrix:()=>$});module.exports=G(Q);var I=R(j(),1),P=t=>{let e=new Map,l=a=>{e.has(a)||e.set(a,[])},i=a=>{var n;return(n=e.get(a))!=null?n:null},b=(a,n,r)=>{var o,c;(o=e.get(a))==null||o.push({label:n,edgeWeight:r}),t.isDirected||(c=e.get(n))==null||c.push({label:a,edgeWeight:r})},v=()=>{for(let[a,n]of e.entries()){let r=n.map(o=>{let c=o.edgeWeight!==void 0?`(${o.edgeWeight})`:"";return`${o.label}${c}`}).join(", ");console.log(`${a} -> [${r}]`)}},w=(a,n)=>{let r=new Set,o=s=>{let f=[s];for(r.add(s);f.length>0;){let u=f.shift();a(u);let g=i(u)||[];for(let L of g)r.has(L.label)||(r.add(L.label),f.push(L.label))}};if(n!==void 0){o(n);return}let c=e.keys();for(let s of c)r.has(s)||o(s)},x=(a,n)=>{let r=new Set,o=s=>{let f=[s];for(r.add(s);f.length>0;){let u=f.pop();a(u);let g=i(u)||[];for(let L of g)r.has(L.label)||(r.add(L.label),f.push(L.label))}};if(n!==void 0){o(n);return}let c=e.keys();for(let s of c)r.has(s)||o(s)},T=(a,n)=>{let r=new Set,o=s=>{if(r.has(s))return;r.add(s),a(s);let f=i(s);if(f)for(let u of f)o(u.label)};if(n!==void 0){o(n);return}let c=e.keys();for(let s of c)o(s)},d=()=>{let a=new Set,n=o=>{let c=[o];for(a.add(o);c.length>0;){let s=c.pop(),f=i(s)||[];for(let u of f){if(u.label!==s&&a.has(u.label))return!0;a.add(u.label),c.push(u.label)}}return!1},r=e.keys();for(let o of r)if(!a.has(o)&&n(o))return!0;return!1},h=()=>{let a=new Set,n=o=>{let c=[o];for(a.add(o);c.length>0;){let s=c.pop(),f=i(s)||[];for(let u of f){if(a.has(u.label))return!0;a.add(u.label),c.push(u.label)}}return!1},r=e.keys();for(let o of r)if(!a.has(o)&&n(o))return!0;return!1},p=()=>t.isDirected?h():d(),m=a=>{var c;let n=new Set,r=new I.default({comparator:(s,f)=>s.distance-f.distance}),o=new Map;for(let s of e.keys())o.set(s,1/0);for(o.set(a,0),r.enq({label:a,distance:0});!r.isEmpty();){let{label:s,distance:f}=r.deq();if(n.has(s))continue;n.add(s);let u=i(s)||[];for(let g of u){let L=(c=g.edgeWeight)!=null?c:0,A=o[s]+L;A<o[g.label]&&(o[g.label]=A,r.enq({label:g.label,distance:A}))}}return o};return(()=>{if(!t.initial)return;let a=Object.keys(t.initial);for(let n of a){let r=t.initial[n]||[];e.set(n,r)}})(),{addVertex:l,getVertex:i,addEdge:b,printGraph:v,bfs:w,dfs:x,dfsRecursive:T,hasCycle:p,findShortestPathDijkstra:m}};var z=t=>{var e,l;if(t.initial){let i=t.initial.length,b=i>0?t.initial[0].length:0;return[i,b]}return[(e=t.rowsCount)!=null?e:0,(l=t.columnsCount)!=null?l:0]},$=t=>{let[e,l]=z(t),i=Array(e),b=()=>i,v=(d,h,p)=>{i[d][h]=p,t.isDirected||(i[h][d]=p)},w=()=>{for(let d=0;d<e;d++)console.log(i[d].map(h=>h==null?"-":h).join(" "))},x=d=>{let h=[[0,-1],[0,1],[-1,0],[1,0]],p=[[0,0]],m=[];for(let n=0;n<e;n++)m[n]=[];let a=(n,r)=>n>=0&&n<e&&r>=0&&r<l&&!m[n][r];for(;p.length>0;){let[n,r]=p.shift();if(!m[n][r]){m[n][r]=!0,d(n,r,i[n][r]);for(let o=0;o<h.length;o++){let[c,s]=h[o],f=n+c,u=r+s;a(f,u)&&p.push([f,u])}}}},T=d=>{let h=[[0,-1],[0,1],[-1,0],[1,0]],p=[[0,0]],m=[];for(let n=0;n<e;n++)m[n]=[];let a=(n,r)=>n>=0&&n<e&&r>=0&&r<l&&!m[n][r];for(;p.length>0;){let[n,r]=p.pop();if(!m[n][r]){m[n][r]=!0,d(n,r,i[n][r]);for(let o=0;o<h.length;o++){let[c,s]=h[o],f=n+c,u=r+s;a(f,u)&&p.push([f,u])}}}};return(()=>{if(t.initial){i=t.initial;return}for(let d=0;d<e;d++)i[d]=Array(l),t.defaultValue!==void 0&&i[d].fill(t.defaultValue)})(),{getMatrix:b,addEdge:v,printGraph:w,bfs:x,dfs:T}};0&&(module.exports={graph,matrix});
