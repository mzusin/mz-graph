/*
https://github.com/mzusin/mz-graph
MIT License      
Copyright (c) 2023-present, Miriam Zusin       
*/
(()=>{var q=Object.create;var k=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,$=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var M=(t,e,s)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,C=(t,e)=>{for(var s in e||(e={}))j.call(e,s)&&M(t,s,e[s]);if(I)for(var s of I(e))Q.call(e,s)&&M(t,s,e[s]);return t};var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var U=(t,e,s,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of P(e))!j.call(t,h)&&h!==s&&k(t,h,{get:()=>e[h],enumerable:!(u=R(e,h))||u.enumerable});return t};var F=(t,e,s)=>(s=t!=null?q($(t)):{},U(e||!t||!t.__esModule?k(s,"default",{value:t,enumerable:!0}):s,t));var O=W((N,E)=>{E.exports=L;function L(t){this._comparator=t||L.DEFAULT_COMPARATOR,this._elements=[]}L.DEFAULT_COMPARATOR=function(t,e){return typeof t=="number"&&typeof e=="number"?t-e:(t=t.toString(),e=e.toString(),t==e?0:t>e?1:-1)};L.prototype.isEmpty=function(){return this.size()===0};L.prototype.peek=function(){if(this.isEmpty())throw new Error("PriorityQueue is empty");return this._elements[0]};L.prototype.deq=function(){var t=this.peek(),e=this._elements.pop(),s=this.size();if(s===0)return t;this._elements[0]=e;for(var u=0;u<s;){var h=u,v=2*u+1,x=2*u+2;if(v<s&&this._compare(v,h)>=0&&(h=v),x<s&&this._compare(x,h)>=0&&(h=x),h===u)break;this._swap(h,u),u=h}return t};L.prototype.enq=function(t){for(var e=this._elements.push(t),s=e-1;s>0;){var u=Math.floor((s-1)/2);if(this._compare(s,u)<=0)break;this._swap(u,s),s=u}return e};L.prototype.size=function(){return this._elements.length};L.prototype.forEach=function(t){return this._elements.forEach(t)};L.prototype._compare=function(t,e){return this._comparator(this._elements[t],this._elements[e])};L.prototype._swap=function(t,e){var s=this._elements[t];this._elements[t]=this._elements[e],this._elements[e]=s}});var D=F(O(),1),G=t=>{let e=new Map,s=n=>{e.has(n)||e.set(n,[])},u=n=>e.has(n),h=n=>{var o;return(o=e.get(n))!=null?o:null},v=(n,o,i)=>{var r,c;(r=e.get(n))==null||r.push({label:o,edgeWeight:i}),t.isDirected||(c=e.get(o))==null||c.push({label:n,edgeWeight:i})},x=()=>{for(let[n,o]of e.entries()){let i=o.map(r=>{let c=r.edgeWeight!==void 0?`(${r.edgeWeight})`:"";return`${r.label}${c}`}).join(", ");console.log(`${n} -> [${i}]`)}},T=(n,o)=>{let i=new Set,r=a=>{let l=[a];for(i.add(a);l.length>0;){let b=l.shift();n(b);let g=h(b)||[];for(let m of g)i.has(m.label)||(i.add(m.label),l.push(m.label))}};if(o!==void 0){r(o);return}let c=e.keys();for(let a of c)i.has(a)||r(a)},A=(n,o)=>{let i=new Set,r=a=>{let l=[a];for(i.add(a);l.length>0;){let b=l.pop();n(b);let g=h(b)||[];for(let m of g)i.has(m.label)||(i.add(m.label),l.push(m.label))}};if(o!==void 0){r(o);return}let c=e.keys();for(let a of c)i.has(a)||r(a)},d=(n,o)=>{let i=new Set,r=a=>{if(i.has(a))return;i.add(a),n(a);let l=h(a);if(l)for(let b of l)r(b.label)};if(o!==void 0){r(o);return}let c=e.keys();for(let a of c)r(a)},p=()=>{let n=new Set,o=r=>{let c=[r];for(n.add(r);c.length>0;){let a=c.pop(),l=h(a)||[];for(let b of l){if(b.label!==a&&n.has(b.label))return!0;n.add(b.label),c.push(b.label)}}return!1},i=e.keys();for(let r of i)if(!n.has(r)&&o(r))return!0;return!1},y=()=>{let n=new Set,o=r=>{let c=[r];for(n.add(r);c.length>0;){let a=c.pop(),l=h(a)||[];for(let b of l){if(n.has(b.label))return!0;n.add(b.label),c.push(b.label)}}return!1},i=e.keys();for(let r of i)if(!n.has(r)&&o(r))return!0;return!1},w=()=>t.isDirected?y():p(),_=n=>{var c,a;let o=new Set,i=new D.default({comparator:(l,b)=>l.distance-b.distance}),r=new Map;for(let l of e.keys())r.set(l,1/0);for(r.set(n,0),i.enq({label:n,distance:0});!i.isEmpty();){let{label:l}=i.deq();if(o.has(l))continue;o.add(l);let b=h(l)||[];for(let g of b){let m=g.edgeWeight,S=((c=r.get(l))!=null?c:0)+m,z=(a=r.get(g.label))!=null?a:1/0;S<z&&(r.set(g.label,S),i.enq({label:g.label,distance:S}))}}return r},f=()=>{var c,a;if(!t.isDirected)throw new Error("Topological sorting is applicable only to directed acyclic graphs.");let n=new Map;for(let[l,b]of e){n.has(l)||n.set(l,0);for(let g of b){let m=(c=n.get(g.label))!=null?c:0;n.set(g.label,m+1)}}let o=[];for(let[l,b]of n)b===0&&o.push(l);let i=[],r=0;for(;o.length>0;){let l=o.shift();if(!l)continue;i.push(l);let b=e.get(l)||[];for(let g of b){let m=((a=n.get(l))!=null?a:0)-1;n.set(l,m),m<=0&&o.push(g.label)}r++}if(r!==e.size)throw new Error("Graph has a cycle.");return i};return(()=>{if(!t.initial)return;let n=Object.keys(t.initial);for(let o of n){let i=t.initial[o]||[];e.set(o,i)}})(),{addVertex:s,getVertex:h,hasVertex:u,addEdge:v,printGraph:x,bfs:T,dfs:A,dfsRecursive:d,hasCycle:w,findShortestPathDijkstra:_,topologicalSortingKahn:f}};var K=t=>{var e,s;if(t.initial){let u=t.initial.length,h=u>0?t.initial[0].length:0;return[u,h]}return[(e=t.rowsCount)!=null?e:0,(s=t.columnsCount)!=null?s:0]},V=t=>{let[e,s]=K(t),u=Array(e),h=()=>u,v=(d,p,y)=>{u[d][p]=y,t.isDirected||(u[p][d]=y)},x=()=>{for(let d=0;d<e;d++)console.log(u[d].map(p=>p==null?"-":p).join(" "))},T=d=>{let p=[[0,-1],[0,1],[-1,0],[1,0]],y=[[0,0]],w=[];for(let f=0;f<e;f++)w[f]=[];let _=(f,n)=>f>=0&&f<e&&n>=0&&n<s&&!w[f][n];for(;y.length>0;){let[f,n]=y.shift();if(!w[f][n]){w[f][n]=!0,d(f,n,u[f][n]);for(let o=0;o<p.length;o++){let[i,r]=p[o],c=f+i,a=n+r;_(c,a)&&y.push([c,a])}}}},A=d=>{let p=[[0,-1],[0,1],[-1,0],[1,0]],y=[[0,0]],w=[];for(let f=0;f<e;f++)w[f]=[];let _=(f,n)=>f>=0&&f<e&&n>=0&&n<s&&!w[f][n];for(;y.length>0;){let[f,n]=y.pop();if(!w[f][n]){w[f][n]=!0,d(f,n,u[f][n]);for(let o=0;o<p.length;o++){let[i,r]=p[o],c=f+i,a=n+r;_(c,a)&&y.push([c,a])}}}};return(()=>{if(t.initial){u=t.initial;return}for(let d=0;d<e;d++)u[d]=Array(s),t.defaultValue!==void 0&&u[d].fill(t.defaultValue)})(),{getMatrix:h,addEdge:v,printGraph:x,bfs:T,dfs:A}};var B=C(C({},G),V);window.mzGraph=window.mzGraph||B;})();
